{"attributes":{"type":"Flow","url":"/services/data/v34.0/tooling/sobjects/Flow/3015A000000Y4qmQAC"},"Id":"3015A000000Y4qmQAC","DefinitionId":"3005A000000QkfXQAS","MasterLabel":"Pricing_Options_v3","VersionNumber":6,"Status":"Draft","Description":"This Flow references pricing variables from the Pricing Matrix object to create Pricing Option records. Given relevant loan, product, and account information, the Pricing Option record includes Interest Rate and Term.","ProcessType":"AutoLaunchedFlow","CreatedDate":"2018-10-10T19:45:13.000+0000","CreatedById":"0055A000009ubCxQAI","LastModifiedDate":"2018-10-10T19:45:14.000+0000","LastModifiedById":"0055A000009ubCxQAI","Metadata":{"actionCalls":[],"apexPluginCalls":[],"assignments":[{"assignmentItems":[{"assignToReference":"Pricing_Options_Count","operator":"Add","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":1.0,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Create_Pricing_Option"},"description":null,"label":"Increment Pricing Options Count","locationX":611,"locationY":186,"name":"Increment_Pricing_Options_Count","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"Reason","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"No Options Found"}},{"assignToReference":"optionsReturned","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":false,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":null,"description":null,"label":"No Options Found","locationX":507,"locationY":505,"name":"No_Options_Found","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"optionsReturned","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":null,"description":null,"label":"Options Found","locationX":298,"locationY":504,"name":"Options_Found","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"CreditScore","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Account.LLC_BI__FICO_Score__c","numberValue":null,"stringValue":null}},{"assignToReference":"LoanAmount","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.LLC_BI__Amount__c","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Find_Pricing_Logic"},"description":null,"label":"Set Credit Score","locationX":397,"locationY":35,"name":"Set_Credit_Score","processMetadataValues":[]}],"choices":[],"constants":[{"dataType":"Number","description":null,"name":"Rate10","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":10.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate11","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":11.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate12","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":12.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate13","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":13.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate14","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":14.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate8","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":8.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate8_5","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":8.5,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate9","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":9.5,"stringValue":null}},{"dataType":"Number","description":null,"name":"Rate9_5","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":9.5,"stringValue":null}},{"dataType":"Number","description":null,"name":"Term12","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":12.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Term24","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":24.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Term36","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":36.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Term48","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":48.0,"stringValue":null}},{"dataType":"Number","description":null,"name":"Term60","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":60.0,"stringValue":null}}],"decisions":[{"defaultConnector":null,"defaultConnectorLabel":"[Default Outcome]","description":null,"label":"Has Results","locationX":398,"locationY":374,"name":"Has_Results","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"Pricing_Options_Count","operator":"GreaterThan","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":0.0,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Options_Found"},"description":null,"label":"Results Found","name":"Results_Found","processMetadataValues":[]},{"conditionLogic":"and","conditions":[{"leftValueReference":"Pricing_Options_Count","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":0.0,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"No_Options_Found"},"description":null,"label":"No Results Found","name":"No_Results_Found","processMetadataValues":[]}]}],"description":"This Flow references pricing variables from the Pricing Matrix object to create Pricing Option records. Given relevant loan, product, and account information, the Pricing Option record includes Interest Rate and Term.","dynamicChoiceSets":[],"formulas":[],"interviewLabel":"Calculate Pricing Options","label":"Pricing_Options_v3","loops":[{"assignNextValueToReference":"Pricing_Matrix_Row","collectionReference":"Pricing_Matrix","description":null,"iterationOrder":"Asc","label":"Process Pricing Logic","locationX":396,"locationY":250,"name":"Process_Pricing_Logic","nextValueConnector":{"processMetadataValues":[],"targetReference":"Increment_Pricing_Options_Count"},"noMoreValuesConnector":{"processMetadataValues":[],"targetReference":"Has_Results"},"processMetadataValues":[]}],"processMetadataValues":[],"processType":"AutoLaunchedFlow","recordCreates":[{"assignRecordIdToReference":null,"connector":{"processMetadataValues":[],"targetReference":"Process_Pricing_Logic"},"description":null,"faultConnector":null,"inputAssignments":[{"field":"LLC_BI__Index_Value__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Index_Value__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Index__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Index__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Interest_Rate_Margin_Percent__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Interest_Rate_Margin_Percent__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Loan_Amount__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"LoanAmount","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Loan__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"LoanId","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Rate_Ceiling__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Rate_Ceiling__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Rate_Floor__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Rate_Floor__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Rate__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Interest_Rate__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Teaser_Rate__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Teaser_Rate__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Teaser_Term__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Teaser_Term__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Term__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pricing_Matrix_Row.LLC_BI__Term_Months__c","numberValue":null,"stringValue":null}}],"inputReference":null,"label":"Create Pricing Option","locationX":611,"locationY":298,"name":"Create_Pricing_Option","object":"LLC_BI__Pricing_Option__c","processMetadataValues":[]}],"recordDeletes":[],"recordLookups":[{"assignNullValuesIfNoRecordsFound":false,"connector":{"processMetadataValues":[],"targetReference":"Process_Pricing_Logic"},"description":null,"faultConnector":null,"filters":[{"field":"LLC_BI__Credit_Score_Maximum__c","operator":"GreaterThanOrEqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditScore","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Credit_Score_Minimum__c","operator":"LessThanOrEqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditScore","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Loan_Value_Maximum__c","operator":"GreaterThanOrEqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"LoanAmount","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Loan_Value_Minimum__c","operator":"LessThanOrEqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"LoanAmount","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Product_Line_Name__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.LLC_BI__Product_Line__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Product_Name__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.LLC_BI__Product__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Product_Type_Name__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.LLC_BI__Product_Type__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Region__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Account.LLC_BI__Region__c","numberValue":null,"stringValue":null}}],"label":"Find Pricing Logic","locationX":395,"locationY":145,"name":"Find_Pricing_Logic","object":"LLC_BI__Pricing_Matrix__c","outputAssignments":[],"outputReference":"Pricing_Matrix","processMetadataValues":[],"queriedFields":["LLC_BI__Term_Months__c","LLC_BI__Interest_Rate__c","Id","LLC_BI__Index_Value__c","LLC_BI__Interest_Rate_Margin_Percent__c","LLC_BI__Rate_Floor__c","LLC_BI__Rate_Ceiling__c","LLC_BI__Teaser_Rate__c","LLC_BI__Teaser_Term__c","LLC_BI__Index__c"],"sortField":"LLC_BI__Term_Months__c","sortOrder":"Asc"},{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Set_Credit_Score"},"description":null,"faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.LLC_BI__Account__c","numberValue":null,"stringValue":null}}],"label":"Lookup Account","locationX":224,"locationY":33,"name":"Lookup_Account","object":"Account","outputAssignments":[],"outputReference":"Account","processMetadataValues":[],"queriedFields":["LLC_BI__FICO_Score__c","LLC_BI__Region__c"],"sortField":null,"sortOrder":null},{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Lookup_Account"},"description":null,"faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"LoanId","numberValue":null,"stringValue":null}}],"label":"Lookup Loan","locationX":54,"locationY":33,"name":"Lookup_Loan","object":"LLC_BI__Loan__c","outputAssignments":[],"outputReference":"Loan","processMetadataValues":[],"queriedFields":["LLC_BI__Account__c","LLC_BI__Amount__c","LLC_BI__Product_Line__c","LLC_BI__Product_Type__c","LLC_BI__Product__c"],"sortField":null,"sortOrder":null}],"recordUpdates":[],"screens":[],"startElementReference":"Lookup_Loan","steps":[],"subflows":[],"textTemplates":[],"urls":null,"variables":[{"dataType":"SObject","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"Account","objectType":"Account","processMetadataValues":[],"scale":null,"value":null},{"dataType":"Number","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"CreditScore","objectType":null,"processMetadataValues":[],"scale":2,"value":null},{"dataType":"SObject","description":"The loan","isCollection":false,"isInput":false,"isOutput":false,"name":"Loan","objectType":"LLC_BI__Loan__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"Currency","description":"The amount requested for the loan.","isCollection":false,"isInput":false,"isOutput":true,"name":"LoanAmount","objectType":null,"processMetadataValues":[],"scale":2,"value":null},{"dataType":"String","description":"The Id of the Loan","isCollection":false,"isInput":true,"isOutput":true,"name":"LoanId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"dataType":"Boolean","description":null,"isCollection":false,"isInput":false,"isOutput":true,"name":"optionsReturned","objectType":null,"processMetadataValues":[],"scale":null,"value":{"booleanValue":false,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}},{"dataType":"SObject","description":"A collection of Pricing Matrix records discovered through Record Lookup (Find Pricing Matrix)","isCollection":true,"isInput":true,"isOutput":true,"name":"Pricing_Matrix","objectType":"LLC_BI__Pricing_Matrix__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"SObject","description":"One of the Pricing Matrix records retrieved that applies to Loan, Account, and Product selections","isCollection":false,"isInput":false,"isOutput":false,"name":"Pricing_Matrix_Row","objectType":"LLC_BI__Pricing_Matrix__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"Number","description":"Counts the number of discovered Pricing Option rules in the Product Matrix table.","isCollection":false,"isInput":false,"isOutput":false,"name":"Pricing_Options_Count","objectType":null,"processMetadataValues":[],"scale":0,"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":0.0,"stringValue":null}},{"dataType":"String","description":null,"isCollection":false,"isInput":false,"isOutput":true,"name":"Reason","objectType":null,"processMetadataValues":[],"scale":null,"value":null}],"waits":[]},"FullName":"Pricing_Options-6"}