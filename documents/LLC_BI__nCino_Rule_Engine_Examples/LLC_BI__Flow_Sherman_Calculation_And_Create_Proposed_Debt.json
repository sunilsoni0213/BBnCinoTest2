{"attributes":{"type":"Flow","url":"/services/data/v34.0/tooling/sobjects/Flow/3010q0000001jYYAAY"},"Id":"3010q0000001jYYAAY","DefinitionId":"3000q0000004WuqAAE","MasterLabel":"Sherman Calculation And Create Proposed Debt","VersionNumber":1,"Status":"Draft","Description":"The workflow orchestration step triggers this flow and performs a sherman calculation to update the relevant pricing object and creates a debt record.","ProcessType":"AutoLaunchedFlow","CreatedDate":"2019-03-27T19:50:14.000+0000","CreatedById":"0050q000001ZUZcAAO","LastModifiedDate":"2019-03-27T19:50:15.000+0000","LastModifiedById":"0050q000001ZUZcAAO","Metadata":{"actionCalls":[{"actionName":"nRETAIL__GenerateProposedLoanDebt","actionType":"apex","connector":{"processMetadataValues":[],"targetReference":"Set_Workflow_Orchestration_Step"},"description":"This action deletes the existing proposed loan debts related to the loan if there are any, and generates the proposed loan debt for the loan.","faultConnector":null,"inputParameters":[{"name":"accountId","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Account.Id","numberValue":null,"stringValue":null}},{"name":"loanId","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.Id","numberValue":null,"stringValue":null}}],"label":"Generate Proposed Loan Debt","locationX":864,"locationY":219,"name":"Generate_Proposed_Loan_Debt","outputParameters":[],"processMetadataValues":[]},{"actionName":"SCALC__ShermanCalculation","actionType":"apex","connector":{"processMetadataValues":[],"targetReference":"Lookup_Loan"},"description":"This action performs a callout to the Sherman service and updates the associated pricing option.","faultConnector":null,"inputParameters":[{"name":"contextId","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"PricingOptionRecord.Id","numberValue":null,"stringValue":null}},{"name":"persistData","processMetadataValues":[],"value":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}},{"name":"requestXMLOnly","processMetadataValues":[],"value":{"booleanValue":false,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"label":"Perform Sherman Calculation","locationX":454,"locationY":50,"name":"Perform_Sherman_Calculation","outputParameters":[],"processMetadataValues":[]}],"apexPluginCalls":[],"assignments":[],"choices":[],"constants":[{"dataType":"String","description":null,"name":"OrchestrationConstantComplete","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"Complete"}}],"decisions":[],"description":"The workflow orchestration step triggers this flow and performs a sherman calculation to update the relevant pricing object and creates a debt record.","dynamicChoiceSets":[],"formulas":[],"interviewLabel":"Sherman Calculation And Create Proposed Debt {!$Flow.CurrentDateTime}","label":"Sherman Calculation And Create Proposed Debt","loops":[],"processMetadataValues":[{"name":"BuilderType","value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"LightningFlowBuilder"}},{"name":"OriginBuilderType","value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"LightningFlowBuilder"}}],"processType":"AutoLaunchedFlow","recordCreates":[],"recordDeletes":[],"recordLookups":[{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Perform_Sherman_Calculation"},"description":"This action retrieves the Pricing Option record whose Loan Id matches the workflow orchestration context Id.","faultConnector":null,"filters":[{"field":"LLC_BI__Loan__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"WorkflowOrchestrationRecord.nFORCE__Context_Id__c","numberValue":null,"stringValue":null}}],"label":"Get Pricing Option Record","locationX":320,"locationY":50,"name":"Get_Pricing_Option_Record","object":"LLC_BI__Pricing_Option__c","outputAssignments":[],"outputReference":"PricingOptionRecord","processMetadataValues":[],"queriedFields":["Id"],"sortField":null,"sortOrder":null},{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Get_Pricing_Option_Record"},"description":"This action retrieves the workflow orchestration record for this flow.","faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"StepObjId","numberValue":null,"stringValue":null}}],"label":"Get Workflow Orchestration Record","locationX":188,"locationY":50,"name":"Get_Workflow_Orchestration_Record","object":"nFORCE__Workflow_Orchestration__c","outputAssignments":[],"outputReference":"WorkflowOrchestrationRecord","processMetadataValues":[],"queriedFields":["Id","nFORCE__Context_Id__c","nFORCE__Orchestration_Step__c"],"sortField":null,"sortOrder":null},{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Generate_Proposed_Loan_Debt"},"description":null,"faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Loan.LLC_BI__Account__c","numberValue":null,"stringValue":null}}],"label":"Lookup Account","locationX":722,"locationY":219,"name":"Lookup_Account","object":"Account","outputAssignments":[],"outputReference":"Account","processMetadataValues":[],"queriedFields":["Id"],"sortField":null,"sortOrder":null},{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Lookup_Account"},"description":null,"faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"WorkflowOrchestrationRecord.nFORCE__Context_Id__c","numberValue":null,"stringValue":null}}],"label":"Lookup Loan","locationX":601,"locationY":219,"name":"Lookup_Loan","object":"LLC_BI__Loan__c","outputAssignments":[],"outputReference":"Loan","processMetadataValues":[],"queriedFields":["Id","LLC_BI__Account__c"],"sortField":null,"sortOrder":null}],"recordUpdates":[{"connector":null,"description":"This action sets a new workflow orchestration step.","faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"WorkflowOrchestrationRecord.Id","numberValue":null,"stringValue":null}}],"inputAssignments":[{"field":"nFORCE__Orchestration_Step__c","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"OrchestrationConstantComplete","numberValue":null,"stringValue":null}}],"inputReference":null,"label":"Set Workflow Orchestration Step","locationX":1018,"locationY":219,"name":"Set_Workflow_Orchestration_Step","object":"nFORCE__Workflow_Orchestration__c","processMetadataValues":[]}],"screens":[],"startElementReference":"Get_Workflow_Orchestration_Record","steps":[],"subflows":[],"textTemplates":[],"urls":null,"variables":[{"dataType":"SObject","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"Account","objectType":"Account","processMetadataValues":[],"scale":null,"value":null},{"dataType":"SObject","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"Loan","objectType":"LLC_BI__Loan__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"SObject","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"PricingOptionRecord","objectType":"LLC_BI__Pricing_Option__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"String","description":null,"isCollection":false,"isInput":true,"isOutput":false,"name":"StepObjId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"dataType":"SObject","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"WorkflowOrchestrationRecord","objectType":"nFORCE__Workflow_Orchestration__c","processMetadataValues":[],"scale":null,"value":null}],"waits":[]},"FullName":"nRETAIL__Sherman_Calculation_And_Create_Proposed_Debt-1"}